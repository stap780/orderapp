i = Ipmatika.order("id").limit(1).offset(200)
i = Ipmatika.order("id").limit(1).offset(220)
i = Ipmatika.order("id").limit(1).offset(214)
i = Ipmatika.order("id").limit(1).offset(215)
i = Ipmatika.order("id").limit(2).offset(215)
i = Ipmatika.order("id").limit(1).offset(216)
i = Ipmatika.order("id").limit(1).offset(217)
i = Ipmatika.order("id").limit(1).offset(218)
i.destroy_all
i = Ipmatika.order("id").limit(100).offset(217)
i.count
require 'open-uri'
a.get("http://b2b.homy.ru/price/")form = a.page.forms.last
form.password = "O9PSxAP"
a.page.link_with(:text => "Запросить остатки").click
response = RestClient.post('http://b2b.homy.ru/api/price.xml', {:clientId => "12",:key => "vyd5WJwqUuH3jOTA0HuPnEjZZtDdzTPT"})
data = Nokogiri::XML(response)
data.xpath(//price/company)
response.to_str
data = Nokogiri::XML(open(response))
a = response.to_str
data = Nokogiri::XML(open(a))
a = Mechanize.new
a.get("http://b2b.homy.ru/price/")
form.authLogin = "zakaz@teletri.ru"
form.authPass = "O9PSxAP"
form.submit
product = a.page.link_with(:text => "Запросить остатки").click
a = product.css(".art hideMax400")
a = product.css('art hideMax400').text
a = product.css('.art.hideMax400').text
a = product.css('.art.hideMax400').text.first
a = product.search('.art.hideMax400').text.first
b = product.search('.i.fa.chbox.fa-circle-o')
b = product.search('i.fa.chbox.fa-circle-o')
b = product.search('.chbox.expand-price-list')
b['class'] = '.chbox.expand-price-list.checked'
b = '.chbox.expand-price-list.checked'
form = a.page.forms.last
form1 = a.product.forms.last
product.form.field_with(name: 'changeCurrency').options[1].select
product.form.field_with(name: 'changeCurrency').value[1].select
product.form.field_with(name: 'changeCurrency').option[1].select
product.form.field_with(name: 'changeCurrency').option["USD"].select
product.form.field_with(name: 'changeCurrency').options["USD"].select
product.form.field_with(name: 'changeCurrency')
form1.form.field_with(name: 'changeCurrency').options["USD"].select
form1.field_with(name: 'changeCurrency').options["USD"].select
form1.field_with(name: 'changeCurrency').options[1].select
form1 = product.forms.last
product
a = product.search('.art.hideMax400').text
row = product.search('.box.main')
put artikule
row = product.search('.box.main/div[2]/div[2]')
row.each do |row|
artikule = row.search('.art.hideMax400').text
puts artikule
end
h = Homyproduct.order("id").limit(1).offset(300)
h = Homyproduct.order("id").limit(1).offset(330)
h = Homyproduct.order("id").limit(1).offset(360)
h = Homyproduct.order("id").limit(1).offset(460)
h = Homyproduct.order("id").limit(1).offset(560)
h = Homyproduct.order("id").limit(1).offset(660)
h = Homyproduct.order("id").limit(1).offset(760)
h = Homyproduct.order("id").limit(1).offset(720)
h = Homyproduct.order("id").limit(1).offset(728)
h = Homyproduct.order("id").limit(100).offset(728)
h = Homyproduct.find_by_title("test")
exit
il = InvoiceList.all
t = Time.now
il.date = "#{t}"
il.date
il.number
il = InvoiceList.find 1
il = InvoiceList.find(1)
il = InvoiceList.find(14)
il.date = Time.now
il.save
il
il.product
il.reload
il.invoice_list_items
h = Homyproduct.where("valuta IS NULL")
h = Homyproduct.where("min_price IS NULL")
h.count
h.destroy_all
p = Product.where("emag_id IS > NULL")
p = Product.where("emag_id > 0")
p = Product.where("emag_id IS NULL")
p = Product.where("emag_id IS NOT  NULL")
p.count
p = Product.find(14975)
p.emag
p.price
p.emag.price
p.price.to_f
p.emag.price.to_f
